{"version":3,"sources":["components/UI/MyInput/myInput.module.css","components/UI/MySelect/mySelect.module.css","components/UI/MyInput/MyInput.jsx","cities.js","components/UI/MySelect/MySelect.jsx","redux/reducers/formValuesReducer.js","redux/reducers/formErrorsReducer.js","components/MyForm.jsx","App.js","redux/reducers/index.js","redux/index.js","index.js"],"names":["module","exports","MyInput","children","afterText","warning","props","className","classes","myInput","label","cities","MySelect","options","mySelect","htmlFor","id","map","option","value","city","SET_VALUES","defaultState","email","password1","password2","mailing","SET_ERRORS","setErrorsAction","payload","type","MyForm","dispatch","useDispatch","formValues","useSelector","state","formErrors","handleChange","e","target","name","onSubmit","key","preventDefault","today","Date","String","getDate","padStart","getMonth","getFullYear","getDateOfChanges","console","log","JSON","stringify","href","sortedCities","maxPopulationCity","filter","Number","population","sort","a","b","localeCompare","cityFilter","onChange","style","width","onClick","length","test","App","rootReducer","combineReducers","action","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.822c06a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"myInput\":\"myInput_myInput__1i5V6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mySelect\":\"mySelect_mySelect__JofN_\"};","import React from 'react';\r\nimport classes from \"./myInput.module.css\"\r\n\r\nconst MyInput = ({children, afterText, warning, ...props}) => {\r\n    return (\r\n        <div className={classes.myInput}>\r\n            <label >\r\n            {props.label}\r\n            </label>\r\n            <input {...props}></input>\r\n            <span>{afterText}</span>\r\n            {warning}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default MyInput;\r\n","export const cities = [\n    {\n        \"city\": \"Артёмовск\",\n        \"population\": \"1688\"\n    },\n    {\n        \"city\": \"Ачинск\",\n        \"population\": \"105259\"\n    },\n    {\n        \"city\": \"Боготол\",\n        \"population\": \"19819\"\n    },\n    {\n        \"city\": \"Бородино\",\n        \"population\": \"16061\"\n    },\n    {\n        \"city\": \"Дивногорск\",\n        \"population\": \"29195\"\n    },\n    {\n        \"city\": \"Дудинка\",\n        \"population\": \"21015\"\n    },\n    {\n        \"city\": \"Енисейск\",\n        \"population\": \"17805\"\n    },\n    {\n        \"city\": \"Железногорск\",\n        \"population\": \"83857\"\n    },\n    {\n        \"city\": \"Заозёрный\",\n        \"population\": \"10286\"\n    },\n    {\n        \"city\": \"Зеленогорск\",\n        \"population\": \"61915\"\n    },\n    {\n        \"city\": \"Игарка\",\n        \"population\": \"4417\"\n    },\n    {\n        \"city\": \"Иланский\",\n        \"population\": \"14967\"\n    },\n    {\n        \"city\": \"Канск\",\n        \"population\": \"89111\"\n    },\n    {\n        \"city\": \"Кодинск\",\n        \"population\": \"15911\"\n    },\n    {\n        \"city\": \"Красноярск\",\n        \"population\": \"1095286\"\n    },\n    {\n        \"city\": \"Лесосибирск\",\n        \"population\": \"59525\"\n    },\n    {\n        \"city\": \"Минусинск\",\n        \"population\": \"68007\"\n    },\n    {\n        \"city\": \"Назарово\",\n        \"population\": \"49825\"\n    },\n    {\n        \"city\": \"Норильск\",\n        \"population\": \"179554\"\n    },\n    {\n        \"city\": \"Сосновоборск\",\n        \"population\": \"40614\"\n    },\n    {\n        \"city\": \"Ужур\",\n        \"population\": \"15563\"\n    },\n    {\n        \"city\": \"Уяр\",\n        \"population\": \"11981\"\n    },\n    {\n        \"city\": \"Шарыпово\",\n        \"population\": \"37136\"\n    }\n]","import React from 'react'\r\nimport classes from \"./mySelect.module.css\"\r\n\r\nexport default function MySelect({options, ...props}) {\r\n    return (\r\n        <div className={classes.mySelect}>\r\n            <label htmlFor={props.id}>{props.label}</label>\r\n            <select {...props}>\r\n                {options.map((option) => (\r\n                  <option key={option.city} value={option.value}>{option.city} </option>  \r\n                ))}\r\n            </select>\r\n        </div>\r\n\r\n    )\r\n}\r\n","const SET_VALUES = \"SET_VALUES\"\r\n\r\nconst defaultState = {\r\n    city: 'Красноярск',\r\n    email: '',\r\n    password1: '',\r\n    password2: '',\r\n    mailing: false\r\n}\r\nexport const formValuesReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_VALUES:\r\n            return {...state, ...action.payload}       \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setValuesAction = (payload) => ({type: SET_VALUES, payload})","const SET_ERRORS = \"SET_ERRORS\"\r\n\r\n\r\nconst defaultState = {\r\n    email: '',\r\n    password1: '',\r\n    password2: ''\r\n\r\n}\r\nexport const formErrorsReducer = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case SET_ERRORS:\r\n            return {...state, ...action.payload}       \r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setErrorsAction = (payload) => ({type: SET_ERRORS, payload})","import React from 'react';\r\nimport MyInput from './UI/MyInput/MyInput';\r\nimport {cities} from \"../cities\"\r\nimport MySelect from './UI/MySelect/MySelect';\r\nimport './myForm.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {setValuesAction} from \"../redux/reducers/formValuesReducer\"\r\nimport {setErrorsAction} from \"../redux/reducers/formErrorsReducer\"\r\n\r\nconst MyForm = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const formValues = useSelector(state => state.formValues)\r\n    const formErrors = useSelector(state => state.formErrors)\r\n\r\n    function cityFilter(cities) {\r\n        let sortedCities = [];\r\n        sortedCities = cities.filter(city => Number(city.population) > 50000).sort((a, b) => Number(b.population) - Number(a.population))\r\n        const maxPopulationCity = sortedCities[0].population\r\n        return sortedCities.sort((a, b) => {\r\n        if(a.population === maxPopulationCity || b.population === maxPopulationCity) {\r\n            return 1\r\n        }else {\r\n            return a.city.localeCompare(b.city)\r\n        }\r\n        })\r\n    }\r\n\r\n    function handleChange(e) {\r\n        dispatch(setValuesAction({[e.target.name]: e.target.value}))\r\n    }\r\n\r\n    function handleSumbit(e) {\r\n        e.preventDefault()\r\n        for(const key in formErrors) {\r\n            if(formErrors[key]){\r\n                return\r\n            }\r\n        }\r\n        getDateOfChanges()\r\n        console.log(JSON.stringify(formValues))\r\n    }\r\n\r\n    function getDateOfChanges() {\r\n        let today = new Date()\r\n        let dd = String(today.getDate()).padStart(2, '0');\r\n        let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        let yyyy = today.getFullYear();\r\n    }        \r\n\r\n    \r\n    function validateInfo() {\r\n\r\n        //Password1\r\n        if(!formValues.password1) {\r\n            dispatch(setErrorsAction({\"password1\": \"Укажите пароль\"}))\r\n        } else if(formValues.password1.length < 5) {\r\n            dispatch(setErrorsAction({\"password1\": \"Используйте не менее 5 символов\"}))\r\n        } else {\r\n            dispatch(setErrorsAction({\"password1\": \"\"}))\r\n        }\r\n        //Password2\r\n        if(!formValues.password2) {\r\n            dispatch(setErrorsAction({\"password2\": \"Укажите пароль\"}))\r\n        } else if(formValues.password2.length < 5) {\r\n            dispatch(setErrorsAction({\"password2\": \"Используйте не менее 5 символов\"}))\r\n        } else if(formValues.password1 !== formValues.password2) {\r\n            dispatch(setErrorsAction({\"password2\": \"Пароли не совпадают\"}))\r\n        } else {\r\n            dispatch(setErrorsAction({\"password2\": \"\"}))\r\n        }\r\n        //E-mail\r\n        if(!formValues.email) {\r\n            dispatch(setErrorsAction({\"email\": \"Укажите E-mail\"}))\r\n        } else if (!/\\S+@\\S+\\.\\S+/.test(formValues.email)) {\r\n            dispatch(setErrorsAction({\"email\": \"Неверный E-mail\"}))\r\n        } else {\r\n            dispatch(setErrorsAction({\"email\": \"\"}))\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <form onSubmit={handleSumbit} className=\"form\">\r\n            <h1 className=\"form__greeting\"><span className=\"form__greeting_gray\">Здравствуйте,</span> Человек №3596941</h1>\r\n            <div className=\"status\">\r\n                <p className=\"status__change\"><a href=\"#\" >Сменить статус</a></p>\r\n                <div className=\"status__triangle\"></div>\r\n                <p>Прежде чем действовать, надо понять</p>\r\n            </div>\r\n            <MySelect\r\n                options={cityFilter(cities)}\r\n                id={\"city-id\"}\r\n                label={\"Ваш город\"}\r\n                name=\"city\"\r\n                onChange={handleChange}\r\n            />\r\n            <hr/>\r\n            <div className=\"form__inputs\">\r\n                <MyInput\r\n                    type={\"password\"}\r\n                    label={\"Пароль\"}\r\n                    name={\"password1\"}\r\n                    afterText={\"Ваш новый пароль должен содержать не менее 5 символов.\"}\r\n                    value={formValues.password1}\r\n                    onChange={handleChange}\r\n                    warning={formErrors.password1 && <p>{formErrors.password1}</p>}\r\n                />\r\n                <MyInput\r\n                    type={\"password\"}\r\n                    label={\"Пароль еще раз\"}\r\n                    name={\"password2\"}\r\n                    afterText={\"Повторите пароль, пожалуйста, это обезопасит вас с нами на случай ошибки.\"}\r\n                    value={formValues.password2}\r\n                    onChange={handleChange}\r\n                    warning={formErrors.password2 && <p>{formErrors.password2}</p>}\r\n                />\r\n                <hr/>\r\n                <MyInput\r\n                    type={\"text\"}\r\n                    label={\"Электронная почта\"}\r\n                    name={\"email\"}\r\n                    afterText={\"Можно изменить адрес, указанный при регистрации.\"}\r\n                    value={formValues.email}\r\n                    onChange={handleChange}\r\n                    warning={formErrors.email && <p>{formErrors.email}</p>}\r\n                />\r\n            </div>\r\n            <div className=\"mailing-checkbox\">\r\n                <span style={{width:\"25%\"}}>Я согласен</span>\r\n                <input type=\"checkbox\" className=\"custom-checkbox\" id=\"custom-checkbox\"/>\r\n                <label htmlFor=\"custom-checkbox\">принимать актуальную информацию на емейл</label>\r\n            </div>\r\n            <div className=\"submit-btn-wrapper\">\r\n                <button type=\"submit\" className=\"submit-btn\" onClick={() => validateInfo()}>Изменить</button>\r\n                <span>последние изменения 12 мая 2012 в 14:55:17</span> \r\n            </div>\r\n\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default MyForm;\r\n\r\n\r\n","import './App.css';\n\nimport MyForm from './components/MyForm';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <MyForm/>\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from \"redux\"\r\nimport { formErrorsReducer } from \"./formErrorsReducer\"\r\nimport { formValuesReducer } from \"./formValuesReducer\"\r\n\r\nexport const rootReducer = combineReducers({\r\n    formValues: formValuesReducer,\r\n    formErrors: formErrorsReducer\r\n})\r\n\r\n","import { createStore } from \"redux\";\r\nimport { rootReducer } from \"./reducers\";\r\nexport const store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport {store} from \"./redux/index\"\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}